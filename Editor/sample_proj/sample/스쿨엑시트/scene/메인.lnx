[결제모듈셋팅 공개키="MIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEA0FH9rQLg2lf55/XtUprQf2ZMetaDhsFbrJtc1SFU95UtyplyWChtvIO18LFKQ0mnq4R4XVUz0ZwfJ2hYXsQqB8+Hz0vLxP0bv0fjLtZqoRgb9D3ebWKM1iwerAIorEwR460BVGgJkt266y/4rMy8nNDSUa+0WBS7U2UVhXbKrUA9vUaasko+GwiuNF8PLHrqrhDlRuC9293Fxum7pwrrLo9vub/2xjbrN2ERza3zbBgo7WeOIHQcaA13XmDZf1XCVvBCBN1Mgz4z7eTMMW5QivEMWRFCEL695aWZtjSl1QVawDt60fcjanjIfOhLLuaH+8/PTHTqUX34g4XRNX//hwIDAQAB" ]

#인터페이스 디자인 변경
[대사창수정 아이디="대화" 이미지="textArea.png" 색상="255,255,255,255" 위치="0,600"  여백="50,40" 폰트크기=30  ]
[대사창수정 아이디="대화" 이름창이미지="nameLabel.png" 이름창색상="255,255,255,255" 이름창위치="30,480" 이름창폰트크기="35"  이름창폰트색상="97,68,36,255" ]
[대사창수정 아이디="독백" 이미지="largeTextArea.png" 위치="0,600" 여백="50,150"  색상="255,255,255,200"  ]
[대사창수정 아이디="독백" 연결이미지="unselect.png" 연결선택시이미지="select.png" 연결색상="255,255,255,255" 연결넓이맞춤="예" ]

최대생명 = 3
충전시간간격 = 300 #초단위
시작중 = 거짓
@매크로 게임오버:
	
	[삭제 아이디="배경" ]
	[삭제 아이디="캐릭터" ]
	[삭제 아이디="아이템" ]
	
	#표시중인 인터페이스 제거
	[삭제 아이디="체력표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="생명표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="위치표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="왼손아이템표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="오른손아이템표시" 효과="업페이드"  효과시간=1]	
	
	[텍스트 내용="게임오버" 아이디="게임오버" 위치="화면중앙" 크기=40 효과="업페이드"  효과시간=2  ]
	
	[대기 시간=2]
	[클릭대기 ]
	[삭제 아이디="게임오버" ]	
	
	>게임시작

@매크로 게임클리어:
	
	[삭제 아이디="배경" ]
	[삭제 아이디="캐릭터" ]
	[삭제 아이디="아이템" ]
	
	#표시중인 인터페이스 제거
	[삭제 아이디="체력표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="생명표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="위치표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="왼손아이템표시" 효과="업페이드"  효과시간=1]
	[삭제 아이디="오른손아이템표시" 효과="업페이드"  효과시간=1]	
	
	[텍스트 내용="게임 클리어" 아이디="게임오버" 위치="화면중앙" 크기=70 효과="업페이드"  효과시간=4  ]
	
	[대기 시간=2]
	[클릭대기 ]
	[삭제 아이디="게임오버" ]	
	

	[텍스트 내용="그래픽 : 아무개" 아이디="게임오버" 위치="화면중앙" 크기=30 효과="업페이드"  효과시간=0.5  ]
	[대기 시간=1.5]	
	[텍스트 내용="스크립팅 : 아무개" 아이디="게임오버" 위치="화면중앙" 크기=30 효과="업페이드"  효과시간=0.5  ]
	[대기 시간=1.5]
	[텍스트 내용="스페셜땡스 : 아무개 아무개" 아이디="게임오버" 위치="화면중앙" 크기=30 효과="업페이드"  효과시간=0.5  ]
	[대기 시간=1.5]
	[텍스트 내용="감사합니다." 아이디="게임오버" 위치="화면중앙" 크기=50 효과="업페이드"  효과시간=2.5  ]
	[대기 시간=3.5]

	[로컬푸시 분=1 타이틀="축하해요" 텍스트="다른 엔딩을 도전해 보세요!" ]	
	[게임종료 ]
	
	
	>게임시작



@매크로 체력감소:
	체력 = 체력-1
	@조건 체력>0 :
		pass
	@그외 :
		[대화 이름=내이름 ]		
		;아... 이런 체력이 모두 떨어졌다.
		;좀비가 다가오는 것 같다.. 이런..
		[진동 시간=100 ]
		[이미지 아이디="캐릭터" 파일명="좀비.png" 효과="줌인페이드" 효과시간=0.2  ]
		[대화 이름="좀비" ]
		;그르르르르르르....
		
		[게임오버]
	[표시갱신]

		
@매크로 표시갱신:
	[기본값 값="예" 매크로명="텍스트" 인자명="GUI" ]
	[기본값 값="40" 매크로명="텍스트" 인자명="크기" ]
	[텍스트 내용="체력 : "+체력 아이디="체력표시" x=780 y=30 효과="" 효과시간=0  정렬="오른쪽" ]
	[텍스트 내용="생명:"+$생명 아이디="생명표시" x=20 y=30  정렬="왼쪽" ]
	[텍스트 내용="현위치:"+현재위치 아이디="위치표시" x=400 y=30  정렬="중앙" ]
	
	[기본값 값="30" 매크로명="텍스트" 인자명="크기" ]
	[텍스트 내용="왼손:"+왼손 아이디="왼손아이템표시" x=20 y=80  정렬="왼쪽" ]
	[텍스트 내용="오른손:"+오른손 아이디="오른손아이템표시" x=780 y=80  정렬="오른쪽" ]
	[기본값 값="GUI" 매크로명="텍스트" 인자명="아니오" ]

@매크로 아이템획득:
	아이템파일명 = "아이템/" + 아이템획득.아이템 + ".png"
	[이미지 아이디="아이템" 파일명=아이템파일명 효과="업페이드"  효과시간=1 위치="화면중앙" 크기="원본크기" ]
	[대화 이름=내이름]
	;<=아이템획득.아이템> 을(를) 발견했다.
	
	[삭제 아이디="아이템"]

	[독백]
	;획득한 <=아이템획득.아이템> 을(를) 어느손에 쥘까요?
	;<연결 "왼손에획득">왼손</연결>	
	;<연결 "오른손에획득">오른손</연결>
	;<연결 "획득하지않음">버린다</연결>
	
	:왼손에획득
	왼손 = 아이템획득.아이템
	[표시갱신]
	@돌아가기 1
	
	:오른손에획득
	오른손 = 아이템획득.아이템
	[표시갱신]
	@돌아가기 1
	
	:획득하지않음
	@돌아가기 0

@매크로 아이템보유:
	템 = 아이템보유.아이템
	@조건 (왼손==템) + (오른손==템):
		@돌아가기 1
	@그외:
		@돌아가기 0

@매크로 시간표시갱신:
	지금시간 = [시간정보 타입="현재초" ] 
	지난시간 =  지금시간 - 	$아까시간
		
	결과 = [변수  아이디="$남은초" ]
	@조건 결과=="없음":
		$남은초 = 충전시간간격
	
	$남은초 = $남은초 - 지난시간
	@조건 $남은초 < 0:
		$남은초 = 충전시간간격
		$생명 = $생명+1
		@조건 $생명 > 최대생명 :
			$생명 = 최대생명	
			@조건 시작중==거짓:
				[표시갱신]
				
	$아까시간 = [시간정보 타입="현재초" ]	
	[텍스트 내용="생명충전시간 : "+$남은초+"초 남음"  아이디="시간표시" x=0 y=590 정렬="왼쪽" 크기=20 효과=""  ]

[타이머 매크로="시간표시갱신" 시간=1 아이디="시간갱신타이머"  ]
[시간표시갱신]

:게임시작
[화면초기화 ]

#생명검사
현재생명 = [변수 아이디="$생명" ]
@조건 현재생명 =="없음" :
	$생명 = 최대생명
@다른조건 $생명>5:
	$생명 = 최대생명
	$생명 = $생명-1
@다른조건 $생명>0:
	$생명 = $생명-1
@그외:
	[독백 ]
	;더 이상 생명이 없습니다. 1시간마다 생명이 회복됩니다.
	;충분히 기다린 후 다시 도전하세요.	
	[이미지 아이디="결제버튼" 파일명="buyButton.png" 북마크이동="결제하기"  ]
	[멈춤]


#변수 초기화
현재위치 = "1반교실"
체력 = 10
왼손 ="없음"
오른손 = "없음"
시작중 = 참
[독백 ]
;바이러스의 영향으로 학생들이
;모두 좀비로 변해버렸습니다.<클릭>
;학교에서 빠져나가야 합니다.

[독백 ]
;매 이동마다 체력을 소모하게 됩니다.
;체력은 우측 상단에 표시가 됩니다.<클릭>
;체력이 <색상 0 255 0>0</색상>이 되면 게임오버가 됩니다.

[텍스트 내용="체력 : 10" 아이디="체력표시" x=780 y=30 효과="업페이드" 효과시간=2 크기=40 정렬="오른쪽" GUI="예" ]
[클릭대기]

[독백 ]
;게임오버가 되면 생명을 하나 잃습니다. 
;생명은 1시간 마다 1씩 충전됩니다.<클릭>
;남아있는 생명은 왼쪽 상단에 표시됩니다.

[텍스트 내용="생명:"+$생명 아이디="생명표시" x=20 y=30 효과="업페이드" 효과시간=2 크기=40 정렬="왼쪽" GUI="예" ]
[클릭대기]

[독백 ]
;현재 위치는 중앙에 상단에 표시됩니다.<클릭>
;곳곳에 좀비들이 있으므로 신중하게 
;선택하여 빠져나가세요.

[텍스트 내용="현위치:"+현재위치 아이디="위치표시" x=400 y=30 효과="업페이드" 효과시간=2 크기=40 정렬="중앙" GUI="예" ]
[클릭대기]

[입력필드 아이디="이름입력창" 내용="독고민" 크기=40  ]
[이미지 아이디="엔터표시"  파일명="엔터.png" 크기="0.8,0.8"  위치="610, 300"  북마크이동="입력완료" ]
이미지.북마크이동 = ""
[멈춤 ]

시작중 = 거짓

:입력완료

내이름=[입력필드가져오기 아이디="이름입력창" ]

[삭제 아이디="이름입력창" ]
[삭제 아이디="엔터표시" ]

#1반 교실에서 시작.
[표시갱신]
[스크립트 실행="예" 파일명="교실1.lnx" ]


:결제하기
[화면초기화 ]
[텍스트 내용="생명을 구입합니다." 아이디="결제" 위치="화면중앙" 정렬="중앙" 효과="업페이드" 효과시간=0 크기=40  ]
[결제요청 아이템="life" ]
#완료시 
#$생명 = $생명+1
#>게임시작